listen 80;
listen [::]:80;
server_name localhost;

error_page 404 @error;

location = / {
  try_files $uri /root_exact.html;
}

location /doc/ {
  try_files $uri /doc_slash.html;
}

location ~ ^/document$ {
  # Should never be matched because of the `^~ /doc` rule.
  try_files $uri /document_regex.html;
}

location ^~ /doc {
  try_files $uri /doc_stop.html;
}

location / {
  try_files $uri /root.html;
}

location @error {
  return 302 /error.html;
}

location = /script.js {
  try_files $uri /script.js;
}

location = /styles.css {
  try_files $uri /styles.css;
}
